{"version":3,"sources":["api.js","use-auth.js","Timecards.js","Inspector.js","ImageViewer.js","ViewTimecard.js","Login.jsx","PrivateRoute.jsx","AuthButton.js","CopyButton.jsx","lib.js","BookerUrl.jsx","HolidayPay.js","App.js","reportWebVitals.js","index.js"],"names":["authHeader","token","Authorization","fetchOneTimecard","id","a","timecardUrl","apiBaseUrl","console","log","fetch","headers","result","json","resbody","fetchTimecards","authorization","end","facilityId","page","limit","endDate","formatDate","startDate","dateOffset","skip","accept","referrer","referrerPolicy","body","method","mode","fetchFacilities","query","days","baseDate","Date","setDate","getDate","date","toISOString","slice","login","password","JSON","stringify","strategy","res","authContext","createContext","ProvideAuth","children","auth","useProvideAuth","Provider","value","useAuth","useContext","useState","localStorage","getItem","user","setUser","setToken","signin","email","accessToken","setItem","signout","removeItem","getUserName","tc","firstName","lastName","float","str","Number","parseFloat","getTotalAmount","amount","stipendPaymentAmount","toFixed","isSuperAdmin","timecard","details","startTime","endTime","lunchInMinutes","overtimeHours","doubletimeHours","weeklyHours","payRates","timecardPayRate","description","payRate","overtimePayRate","doubletimePayRate","Timecards","timecards","setTimecards","total","setTotal","setPage","superOnly","setSuperOnly","isLoading","setIsLoading","setEndDate","updated","setUpdated","selectedFacility","setSelectedFacility","facilities","setFacilities","facilitiesAreLoading","setFacilitiesAreLoading","history","useHistory","tcsPerFacility","reduce","c","facility","name","table","useEffect","tcs","parse","length","parseInt","row","workDate","createdAt","href","onClick","e","handleClickFacility","type","status","timecardPhotoUrls","Button","push","userId","target","rel","filter","t","style","visited","color","height","width","timeout","Table","striped","bordered","hover","map","header","lastPage","Math","ceil","preventDefault","Container","fluid","Row","selected","onChange","marginRight","min","max","labelKey","onSearch","then","data","options","onClear","className","newUpdated","hasOwnProperty","code","variant","paddingRight","toLocaleString","getWorkerName","getPayRates","n","getRegularHours","overtimeAmount","doubletimeAmount","getTotalHours","getTotal","dateString","d","ampm","getHours","toDateString","getMinutes","toString","padStart","Inspector","Form","Group","as","controlId","Label","column","sm","Col","Control","plaintext","readOnly","defaultValue","unitNumber","facilityManager","ImageViewer","active","setActive","pageItems","item","i","Pagination","Item","Image","src","url","alt","Prev","disabled","Next","ViewTimecard","props","setTc","count","setCount","URLSearchParams","useLocation","search","mounted","get","Object","keys","xs","ButtonGroup","vertical","withRouter","setEmail","setPassword","location","from","state","pathname","handleLogin","event","replace","onSubmit","autoFocus","block","size","PrivateRoute","rest","render","to","AuthButton","CopyButton","text","updateClipboard","newClip","navigator","clipboard","writeText","icon","faClipboard","postData","Accept","response","getMonth","getFullYear","getQueryString","params","getTime","dateRangeType","key","join","BookerUrl","displayText","HolidayPay","output","setOutput","approvalNeeded","setApprovalNeeded","clearData","super_admin_list","split","filename","content","contentType","document","createElement","file","Blob","URL","createObjectURL","download","click","revokeObjectURL","downloadToFile","line","num","created","start","hrs","ot","rate","hol","pay","File","label","multiple","fileObj","files","reader","FileReader","readAsText","onload","reqBody","csv","onerror","error","uploadFile","handleNameClick","App","Navbar","bg","Nav","Link","NavLink","path","component","Login","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d63a08ce.chunk.js","sourcesContent":["const apiBaseUrl = 'https://app.snapnurse.com/api/v1';\n\nconst authHeader = (token) => ({\n  Authorization: 'Bearer ' + token,\n});\n\nexport const fetchOneTimecard = async (id, token) => {\n  const timecardUrl = apiBaseUrl + '/admin/timecards/' + id;\n  try {\n    console.log('Fetching one timecard from api...');\n    const result = await fetch(timecardUrl, { headers: authHeader(token) });\n    const resbody = await result.json();\n    console.log('Api response:');\n    console.log(resbody);\n    return resbody;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const fetchTimecards = async ({\n  authorization,\n  end,\n  facilityId,\n  page = 0,\n  limit = 100,\n}) => {\n  const endDate = formatDate(end);\n  const startDate = formatDate(dateOffset(-30, end));\n  const skip = page * limit;\n  try {\n    console.log('Fetching from api...');\n    console.log(facilityId);\n    const result = await fetch(\n      `https://app.snapnurse.com/api/v1/admin/timecards?type=HOURLY${\n        facilityId ? '&facilityId=' + facilityId : ''\n      }&status[]=submitted&status[]=confirmed&status[]=preapproved&workDate[$gte]=${startDate}&workDate[$lte]=${endDate}&platformId=1&$limit=${limit}&$skip=${skip}&$sort[createdAt]=-1`,\n      {\n        headers: {\n          accept: 'application/json, text/plain, */*',\n          'accept-language': 'en-US,en;q=0.9',\n          authorization,\n          'if-none-match': 'W/\"87e67-gQagPz/QZeu/cqOYYc7FtOQM+Fc\"',\n          'sec-fetch-dest': 'empty',\n          'sec-fetch-mode': 'cors',\n          'sec-fetch-site': 'same-origin',\n          'sec-gpc': '1',\n        },\n        referrer: `https://app.snapnurse.com/admin/timecards?page=1&startDate=01/10/2021&endDate=01/22/2021&dateRangeType=workDate&type=HOURLY`,\n        referrerPolicy: 'strict-origin-when-cross-origin',\n        body: null,\n        method: 'GET',\n        mode: 'cors',\n        // credentials: 'include',\n      },\n    );\n    const resbody = await result.json();\n    console.log('Api response:');\n    console.log(resbody);\n    return resbody;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const fetchFacilities = async (query, authorization) => {\n  try {\n    const result = await fetch(\n      `https://app.snapnurse.com/api/v1/facilities/autocomplete?q=${query}&enableAll=no`,\n      {\n        headers: {\n          accept: 'application/json, text/plain, */*',\n          'accept-language': 'en-US,en;q=0.9',\n          authorization,\n          'if-none-match': 'W/\"577-j9ph8lbWP/pRd10MYiRA9tkI5NY\"',\n          'sec-fetch-dest': 'empty',\n          'sec-fetch-mode': 'cors',\n          'sec-fetch-site': 'same-origin',\n          'sec-gpc': '1',\n        },\n        referrer:\n          'https://app.snapnurse.com/admin/timecards?startDate=02/24/2021&endDate=03/10/2021&dateRangeType=workDate&type=HOURLY&page=1',\n        referrerPolicy: 'strict-origin-when-cross-origin',\n        body: null,\n        method: 'GET',\n        mode: 'cors',\n        // credentials: 'include',\n      },\n    );\n    const resbody = await result.json();\n    console.log('Api response:');\n    console.log(resbody);\n    return resbody;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nconst dateOffset = (days, baseDate = new Date()) =>\n  new Date(new Date().setDate(baseDate.getDate() + days));\n\n// YYYY-MM-DD\nconst formatDate = (date) => date.toISOString().slice(0, 10);\n\nexport const fetchAllTimecards = async ({\n  authorization,\n  endDate = formatDate(new Date()),\n  startDate = formatDate(dateOffset(-14)),\n  limit = 100,\n}) => {\n  let timecards = [];\n  let page = 0;\n  const maxRequests = 10;\n  let count = 0;\n  do {\n    count++;\n    const res = await fetchTimecards({\n      authorization,\n      startDate,\n      endDate,\n      page,\n      limit,\n    });\n    if (res.message && res.message.includes('Token expired')) {\n      console.log('Token expired');\n      return { success: false, tokenExpired: true };\n    }\n\n    if (res.data && res.data.length) {\n      timecards = timecards.concat(res.data);\n      page += limit;\n    } else {\n      break;\n    }\n  } while (count <= maxRequests);\n  const success = !!timecards.length;\n  return { success, timecards };\n};\n\nconst postData = async (url = '', data = {}) => {\n  // Default options are marked with *\n  const response = await fetch(url, {\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    // mode: 'cors', // no-cors, *cors, same-origin\n    // cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json',\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    // redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'strict-origin-when-cross-origin',\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n};\n\nexport const login = async (login = '', password = '') => {\n  try {\n    console.log('Logging in...');\n    const res = await fetch('https://app.snapnurse.com/api/v1/authentication', {\n      headers: {\n        accept: 'application/json, text/plain, */*',\n        'accept-language': 'en-US,en;q=0.9',\n        'content-type': 'application/json;charset=UTF-8',\n        'sec-fetch-dest': 'empty',\n        'sec-fetch-mode': 'cors',\n        'sec-fetch-site': 'same-origin',\n        'sec-gpc': '1',\n      },\n      referrer: 'https://app.snapnurse.com/login',\n      referrerPolicy: 'strict-origin-when-cross-origin',\n      body: JSON.stringify({ strategy: 'local', login, password }),\n      method: 'POST',\n      mode: 'cors',\n      // credentials: 'include',\n    });\n\n    console.log('Api response:');\n    const resbody = await res.json();\n    console.log(resbody);\n    return resbody;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import React, { createContext, useContext, useState } from 'react';\nimport { login } from './api';\n\nexport const authContext = createContext(null);\n\nexport const ProvideAuth = ({ children }) => {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n};\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nconst useProvideAuth = () => {\n  const [user, setUser] = useState(localStorage.getItem('user'));\n  const [token, setToken] = useState(localStorage.getItem('token'));\n\n  const signin = async (email, password) => {\n    try {\n      console.log('Signing in from useProvideAuth...');\n      const res = await login(email, password);\n      console.log(res);\n      if (res.user && res.accessToken) {\n        console.log('Success!');\n        setUser(res.user);\n        localStorage.setItem('user', JSON.stringify(user));\n        setToken(res.accessToken);\n        localStorage.setItem('token', res.accessToken);\n      } else {\n        console.log('Login failure...');\n        console.log(res);\n      }\n    } catch (e) {\n      console.log('Unable to sign in...');\n      console.log(e);\n    }\n  };\n\n  const signout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n  };\n\n  return {\n    user,\n    token,\n    signin,\n    signout,\n  };\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Container, Row, Spinner, Table } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchFacilities, fetchTimecards } from \"./api\";\nimport { useAuth } from \"./use-auth\";\nimport Loader from \"react-loader-spinner\";\nimport DatePicker from \"react-datepicker\";\nimport { AsyncTypeahead, ClearButton } from \"react-bootstrap-typeahead\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst getUserName = (tc) =>\n  tc.user && tc.user.firstName + \" \" + tc.user.lastName;\n\nconst float = (str) => Number.parseFloat(str) || 0;\n\nconst getTotalAmount = (tc) =>\n  float((float(tc.amount) + float(tc.stipendPaymentAmount)).toFixed(2));\n\n// Filter predicate\nconst isSuperAdmin = (timecard) => getTotalAmount(timecard) >= 2000;\n\nconst details = ({\n  startTime,\n  endTime,\n  lunchInMinutes,\n  overtimeHours,\n  doubletimeHours,\n  weeklyHours,\n}) => (\n  <>\n    <div>\n      <strong>Start: </strong>\n      {startTime}\n    </div>\n    <div>\n      <strong>Stop: </strong>\n      {endTime}\n    </div>\n    <div>\n      <strong>Lunch: </strong>\n      {lunchInMinutes}\n    </div>\n    <div>\n      <strong>Overtime hours: </strong>\n      {overtimeHours}\n    </div>\n    {Number.parseFloat(doubletimeHours) ? (\n      <div>\n        <strong>Overtime hours: </strong>\n        {doubletimeHours}\n      </div>\n    ) : null}\n\n    <div>\n      <strong>Weekly hours: </strong>\n      {weeklyHours}\n    </div>\n  </>\n);\n\nconst payRates = ({ timecardPayRate }) => {\n  if (!timecardPayRate) return \"\";\n  const {\n    description,\n    payRate,\n    overtimePayRate,\n    doubletimePayRate,\n  } = timecardPayRate;\n  return `${description}\\n${payRate} / ${doubletimePayRate} / ${overtimePayRate}`;\n};\n\n/**\n * COMPONENT\n */\nfunction Timecards() {\n  const [timecards, setTimecards] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [superOnly, setSuperOnly] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [endDate, setEndDate] = useState(new Date());\n  const [updated, setUpdated] = useState(null);\n  const [selectedFacility, setSelectedFacility] = useState([]);\n  const [facilities, setFacilities] = useState([]);\n  const [facilitiesAreLoading, setFacilitiesAreLoading] = useState(false);\n  const history = useHistory();\n  const auth = useAuth();\n\n  const tcsPerFacility = timecards.reduce((a, c) => {\n    a[c.facility.name] = ++a[c.facility.name] || 1;\n    return a;\n  }, {});\n  console.table(tcsPerFacility);\n\n  const refresh = () => {\n    setIsLoading(true);\n    fetchTimecards({\n      authorization: auth.token,\n      end: endDate,\n      page: page - 1,\n      facilityId: selectedFacility.length ? selectedFacility[0].id : null,\n    }).then((res) => {\n      const newUpdated = new Date();\n      if (res.data && res.hasOwnProperty(\"total\")) {\n        localStorage.setItem(\"timecards\", JSON.stringify(res.data));\n        localStorage.setItem(\"total\", JSON.stringify(res.total));\n        localStorage.setItem(\"updated\", newUpdated.toISOString());\n        setTimecards(res.data);\n        setTotal(res.total);\n        setUpdated(newUpdated);\n      } else if (res.code === 401) {\n        console.log(\"Not authenticated. Signing out...\");\n        auth.signout();\n        history.push(\"/login\");\n      } else {\n        console.log(\"Problem fetching timecards...\");\n        console.log(res);\n      }\n      setIsLoading(false);\n    });\n  };\n\n  const toggleSuperOnly = () => setSuperOnly(!superOnly);\n\n  useEffect(() => {\n    const tcs = JSON.parse(localStorage.getItem(\"timecards\"));\n    if (tcs && tcs.length) {\n      setTimecards(tcs);\n      setTotal(Number.parseInt(localStorage.getItem(\"total\")));\n      setUpdated(new Date(localStorage.getItem(\"updated\")));\n    }\n  }, []);\n\n  const row = (tc) =>\n    tc ? (\n      <tr key={tc.id}>\n        <td>{tc.workDate}</td>\n        <td>{tc.createdAt}</td>\n        <td>{getUserName(tc)}</td>\n        <td>{details(tc)}</td>\n        <td>{payRates(tc)}</td>\n        <td>\n          <a href=\"#\" onClick={(e) => handleClickFacility(e, tc.facility)}>\n            {tc.facility.name}\n          </a>\n        </td>\n        <td>{tc.type}</td>\n        <td>{tc.status}</td>\n        <td>{tc.timecardPhotoUrls ? tc.timecardPhotoUrls.length : \"\"}</td>\n        <td>${getTotalAmount(tc)}</td>\n        <td>\n          <Button onClick={() => history.push(\"/timecards/view?id=\" + tc.id)}>\n            Actions\n          </Button>\n          <a\n            href={`https://app.snapnurse.com/admin/timecards?type=HOURLY&dateRangeType=workDate&page=1&userId=${tc.userId}`}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            onClick={() =>\n              setTimecards(timecards.filter((t) => t.userId !== tc.userId))\n            }\n            style={tc.visited ? { color: \"red\" } : null}\n          >\n            Open in Booker\n          </a>\n        </td>\n      </tr>\n    ) : null;\n\n  const table = isLoading ? (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  ) : (\n    <Table striped bordered hover>\n      <thead>\n        <tr>\n          {[\n            \"Work Date\",\n            \"Created At\",\n            \"Worker\",\n            \"Details\",\n            \"Pay Rates\",\n            \"Facility\",\n            \"Type\",\n            \"Status\",\n            \"Images\",\n            \"Total\",\n            \"Inspect\",\n          ].map((header) => (\n            <th>{header}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {superOnly\n          ? timecards.filter(isSuperAdmin).map(row)\n          : timecards.map(row)}\n      </tbody>\n    </Table>\n  );\n\n  const lastPage = Math.ceil(total / 100);\n\n  const handleClickFacility = (e, facility) => {\n    e.preventDefault();\n    setSelectedFacility([facility]);\n    setPage(1);\n  };\n\n  return (\n    <Container fluid>\n      <Row>\n        <span>End Date: </span>\n        <DatePicker\n          selected={endDate}\n          onChange={(date) => {\n            setEndDate(date);\n          }}\n        />\n        <span style={{ marginRight: \"1em\" }}></span>\n        <span>Page: </span>\n        <input\n          type=\"number\"\n          value={page}\n          min=\"1\"\n          max={lastPage || 1}\n          onChange={(e) => setPage(Number.parseInt(e.target.value))}\n        ></input>\n        <span style={{ marginRight: \"1em\" }}>of {lastPage}</span>\n        <p>Facility: </p>\n        <AsyncTypeahead\n          id=\"facilityTypeahead\"\n          isLoading={facilitiesAreLoading}\n          labelKey=\"name\"\n          selected={selectedFacility}\n          onChange={(selected) => {\n            console.log(\"Facility selected\");\n            console.log(selected[0]);\n            setSelectedFacility(selected);\n          }}\n          onSearch={(query) => {\n            setFacilitiesAreLoading(true);\n            fetchFacilities(query, auth.token).then((data) => {\n              setFacilities(data);\n              setFacilitiesAreLoading(false);\n            });\n          }}\n          options={facilities}\n          style={{ width: \"38em\" }}\n        >\n          {({ onClear, selected }) => (\n            <div className=\"rbt-aux\">\n              {!!selected.length && <ClearButton onClick={onClear} />}\n            </div>\n          )}\n        </AsyncTypeahead>\n        <Button onClick={refresh}>Fetch Timecards</Button>\n        <Button variant=\"secondary\" onClick={toggleSuperOnly}>\n          Show {superOnly ? \"All Timecards\" : \"Only Super Admin\"}\n        </Button>\n      </Row>\n      <section id=\"timecardStats\">\n        <span style={{ paddingRight: \"3em\" }}>Total Timecards: {total}</span>\n        <span style={{ paddingRight: \"3em\" }}>\n          Admin Approvals (this page):{\" \"}\n          {timecards ? timecards.filter(isSuperAdmin).length : 0}\n        </span>\n        {updated ? <span>Last Updated: {updated.toLocaleString()}</span> : null}\n      </section>\n      {table}\n    </Container>\n  );\n}\n\nexport default Timecards;\n","import React from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport './Inspector.css';\n\nconst getWorkerName = (tc) =>\n  tc.user ? tc.user.firstName + ' ' + tc.user.lastName : '';\n\nconst getPayRates = ({ timecardPayRate }) => {\n  if (!timecardPayRate) return '';\n  const {\n    description,\n    payRate,\n    overtimePayRate,\n    doubletimePayRate,\n  } = timecardPayRate;\n  return `${description}\\n${payRate} / ${doubletimePayRate} / ${overtimePayRate}`;\n};\n\nconst float = (n) => Number.parseFloat(n);\n\nconst getRegularHours = (tc) =>\n  (float(tc.amount) - float(tc.overtimeAmount) - float(tc.doubletimeAmount)) /\n  float(tc.timecardPayRate.payRate);\n\nconst getTotalHours = (tc) =>\n  getRegularHours(tc) + float(tc.overtimeHours) + float(tc.doubletimeHours);\n\nconst getTotal = (tc) =>\n  Number.parseFloat(tc.stipendPaymentAmount) + Number.parseFloat(tc.total);\n\nconst formatDate = (dateString = '') => {\n  const d = new Date(dateString);\n  const ampm = d.getHours() >= 12 ? 'pm' : 'am';\n  return (\n    d.toDateString() +\n    ' @ ' +\n    (d.getHours() % 12) +\n    ':' +\n    d.getMinutes().toString().padStart(2, '0') +\n    ' ' +\n    ampm +\n    ' (' +\n    d.getHours().toString().padStart(2, '0') +\n    d.getMinutes().toString().padStart(2, '0') +\n    ')'\n  );\n};\n\nconst Inspector = ({ tc }) => {\n  return (\n    <Form>\n      <Form.Group as={Row} controlId=\"formType\">\n        <Form.Label column sm=\"2\">\n          <strong>Type</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={tc.type} />\n        </Col>\n      </Form.Group>\n\n      {/* <Form.Group as={Row} controlId=\"formShiftDescription\">\n        <Form.Label column sm=\"2\">\n          Shift Description\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue=\"...\" />\n        </Col>\n      </Form.Group> */}\n\n      <Form.Group as={Row} controlId=\"formFacility\">\n        <Form.Label column sm=\"2\">\n          <strong>Facility</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={tc.facility && tc.facility.name}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formUnitNumber\">\n        <Form.Label column sm=\"2\">\n          <strong>Unit Number</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={tc.unitNumber || '-'}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formFacilityManager\">\n        <Form.Label column sm=\"2\">\n          <strong>Facility Manager</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={tc.facilityManager || '-'}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formPayRateDescription\">\n        <Form.Label column sm=\"2\">\n          <strong>Pay Rate Description</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={\n              (tc.timecardPayRate && tc.timecardPayRate.description) || '-'\n            }\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formWorker\">\n        <Form.Label column sm=\"2\">\n          <strong>Worker</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={getWorkerName(tc)} />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formStartShift\">\n        <Form.Label column sm=\"2\">\n          <strong>Start Shift</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={formatDate(tc.startTime)}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formEndShift\">\n        <Form.Label column sm=\"2\">\n          <strong>End Shift</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={formatDate(tc.endTime)}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formLunch\">\n        <Form.Label column sm=\"2\">\n          <strong>Lunch</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={tc.lunchInMinutes + ' min'}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formRegularHours\">\n        <Form.Label column sm=\"2\">\n          <strong>Regular Hours</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={getRegularHours(tc)} />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formOvertimeHours\">\n        <Form.Label column sm=\"2\">\n          <strong>Overtime Hours</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={float(tc.overtimeHours)}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formTotalHoursWorked\">\n        <Form.Label column sm=\"2\">\n          <strong>Total Hours Worked</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={getTotalHours(tc)} />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formRate\">\n        <Form.Label column sm=\"2\">\n          <strong>Rate</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={getPayRates(tc)} />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formRegularPay\">\n        <Form.Label column sm=\"2\">\n          <strong>Regular Pay</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={'$' + tc.amount} />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formOvertimePay\">\n        <Form.Label column sm=\"2\">\n          <strong>Overtime Pay</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={'$' + tc.overtimeAmount}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formNonTaxableAdjustment\">\n        <Form.Label column sm=\"2\">\n          <strong>Non Taxable Adjustment</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control defaultValue=\"Set non taxable adjustment for a worker\" />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formAdjustment\">\n        <Form.Label column sm=\"2\">\n          <strong>Adjustment</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue=\"Set adjustment if needed\"\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formMemo\">\n        <Form.Label column sm=\"2\">\n          <strong>Memo</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue=\"Additional notes can be here\"\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formStipend\">\n        <Form.Label column sm=\"2\">\n          <strong>Stipend(Pro-Rated)</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            plaintext\n            readOnly\n            defaultValue={'$' + tc.stipendPaymentAmount}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} controlId=\"formTotal\">\n        <Form.Label column sm=\"2\">\n          <strong>Total</strong>\n        </Form.Label>\n        <Col sm=\"10\">\n          <Form.Control plaintext readOnly defaultValue={'$' + getTotal(tc)} />\n        </Col>\n      </Form.Group>\n    </Form>\n  );\n};\n\nexport default Inspector;\n","import React, { useState } from 'react';\nimport Pagination from 'react-bootstrap/Pagination';\nimport Image from 'react-bootstrap/Image';\n\nconst ImageViewer = ({ timecardPhotoUrls }) => {\n  const [active, setActive] = useState(1);\n  const pageItems = timecardPhotoUrls.map((item, i) => (\n    <Pagination.Item key={item.id} active={i + 1 === active}>\n      {i + 1}\n    </Pagination.Item>\n  ));\n\n  const getImageUrl = () =>\n    timecardPhotoUrls && timecardPhotoUrls.length\n      ? timecardPhotoUrls[active - 1].url\n      : null;\n\n  const handleClickNext = () => {\n    if (active + 1 <= timecardPhotoUrls.length) {\n      setActive(active + 1);\n    }\n  };\n  const handleClickPrev = () => {\n    if (active - 1 >= 1) {\n      setActive(active - 1);\n    }\n  };\n\n  // useEffect(() => {\n  //   console.log('ImageViewer Component using Effect!');\n  //   setImage(\n  //     timecardPhotoUrls && timecardPhotoUrls[0] && timecardPhotoUrls[0].url,\n  //   );\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  return (\n    <div>\n      <Image\n        src={getImageUrl()}\n        alt=\"Worker-uploaded timecard image.\"\n        fluid\n      ></Image>\n\n      <Pagination>\n        <Pagination.Prev onClick={handleClickNext} disabled={active === 1} />\n        {pageItems}\n        <Pagination.Next\n          onClick={handleClickPrev}\n          disabled={active === timecardPhotoUrls.length}\n        ></Pagination.Next>\n      </Pagination>\n    </div>\n  );\n};\n\nexport default ImageViewer;\n","import React, { useEffect, useState } from 'react';\nimport { Container, Row, Col, Button, ButtonGroup } from 'react-bootstrap';\nimport Inspector from './Inspector';\nimport ImageViewer from './ImageViewer';\nimport { useLocation } from 'react-router-dom';\nimport { useAuth } from 'use-auth';\nimport { fetchOneTimecard } from 'api';\n\nconst useQuery = () => new URLSearchParams(useLocation().search);\n\nconst ViewTimecard = (props) => {\n  const [tc, setTc] = useState(null);\n  const [count, setCount] = useState(0);\n  const auth = useAuth();\n  const query = useQuery();\n\n  useEffect(() => {\n    let mounted = true;\n    console.log(count);\n    setCount(count + 1);\n    if (count > 1) return () => (mounted = false);\n    if (auth.token) {\n      const id = query.get('id');\n\n      fetchOneTimecard(id, auth.token).then((item) => {\n        console.log('Fetched one timecard...');\n        console.log(mounted);\n        console.log(JSON.stringify(Object.keys(item)));\n        if (mounted && item) {\n          setTc(item);\n        }\n      });\n    }\n    return () => (mounted = false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (tc)\n    return (\n      <Container fluid>\n        <Row>\n          <Col>\n            <ImageViewer timecardPhotoUrls={tc.timecardPhotoUrls}></ImageViewer>\n          </Col>\n          <Col>\n            <Inspector tc={tc}></Inspector>\n          </Col>\n          <Col xs={1}>\n            <ButtonGroup vertical>\n              <Button variant=\"success\">Approve</Button>\n              <Button variant=\"warning\">Reject</Button>\n              <Button variant=\"primary\">Edit</Button>\n              <Button variant=\"danger\">Remove</Button>\n              <Button variant=\"secondary\">Cancel</Button>\n            </ButtonGroup>\n          </Col>\n        </Row>\n      </Container>\n    );\n  else return null;\n};\n\nexport default ViewTimecard;\n","import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\nimport { useAuth } from 'use-auth';\n// import './Login.css';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n  const location = useLocation();\n  const auth = useAuth();\n  // @ts-ignore\n  const { from } = location.state || { from: { pathname: '/' } };\n\n  const validateForm = () => {\n    return email.length > 0 && password.length > 0;\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n\n    // POST login request\n    await auth.signin(email, password);\n\n    // Redirect on successful login\n    history.replace(from);\n  };\n\n  return (\n    <div className=\"Login\">\n      <p>You must log in to view the page at {from.pathname}</p>\n      <Form onSubmit={handleLogin}>\n        <Form.Group controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <Button block size=\"lg\" type=\"submit\" disabled={!validateForm()}>\n          Login\n        </Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { useAuth } from './use-auth';\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\nconst PrivateRoute = ({ children, ...rest }) => {\n  let auth = useAuth();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        auth.user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { useAuth } from './use-auth';\n\nconst AuthButton = () => {\n  let history = useHistory();\n  let auth = useAuth();\n\n  return auth.user ? (\n    <p style={{ color: 'white' }}>\n      Welcome!{' '}\n      <Button\n        variant=\"danger\"\n        onClick={() => {\n          auth.signout(() => history.push('/'));\n        }}\n      >\n        Sign out\n      </Button>\n    </p>\n  ) : (\n    <p style={{ color: 'white' }}>You are not logged in.</p>\n  );\n};\n\nexport default AuthButton;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClipboard } from '@fortawesome/free-solid-svg-icons';\nimport Button from 'react-bootstrap/Button';\n\nconst CopyButton = ({ text }) => {\n  const updateClipboard = async (newClip) => {\n    try {\n      navigator.clipboard.writeText(newClip);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"outline-secondary\"\n        size=\"sm\"\n        onClick={() => updateClipboard(text)}\n      >\n        <FontAwesomeIcon icon={faClipboard} />\n      </Button>\n    </>\n  );\n};\n\nexport default CopyButton;\n","export const updateClipboard = async (newClip) => {\n  try {\n    navigator.clipboard.writeText(newClip);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const postData = async (url = \"\", data = {}) => {\n  // Default options are marked with *\n  const response = await fetch(url, {\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n    // mode: \"cors\", // no-cors, *cors, same-origin\n    // cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n    // credentials: \"same-origin\", // include, *same-origin, omit\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n};\n","import React from 'react';\n\nconst queryString = (params) =>\n  Object.keys(params)\n    .map((key) => key + '=' + params[key])\n    .join('&');\n\nconst formatDate = (d = new Date()) =>\n  (d.getMonth() + 1).toString().padStart(2, '0') +\n  '/' +\n  d.getDate().toString().padStart(2, '0') +\n  '/' +\n  d.getFullYear();\n\nconst getQueryString = () => {\n  const endDate = new Date();\n  const startDate = new Date(endDate.getTime() - 12 * 24 * 60 * 60 * 1000);\n  const query = {\n    startDate: formatDate(startDate),\n    endDate: formatDate(endDate),\n    type: 'HOURLY',\n    status: 'submitted,confirmed,preapproved',\n    dateRangeType: 'workDate',\n  };\n  return queryString(query);\n};\n\nconst BookerUrl = ({ displayText }) => (\n  <a\n    href={'https://www.snapnursebooker.com/admin/timecards?' + getQueryString()}\n    target=\"_blank\"\n    rel=\"noreferrer\"\n  >\n    {displayText}\n  </a>\n);\n\nexport default BookerUrl;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport CopyButton from './CopyButton';\nimport { updateClipboard, postData } from './lib';\nimport BookerUrl from './BookerUrl';\nimport Loader from 'react-loader-spinner';\n\nconst downloadToFile = (content, filename, contentType) => {\n  const a = document.createElement('a');\n  const file = new Blob([content], { type: contentType });\n\n  a.href = URL.createObjectURL(file);\n  a.download = filename;\n  a.click();\n\n  URL.revokeObjectURL(a.href);\n};\n\nfunction HolidayPay() {\n  const date = '2021-01-01'; // Hardcoded for New Year's 2021: TODO: make it use nearest holiday or all holidays\n  const [output, setOutput] = useState('');\n  const [approvalNeeded, setApprovalNeeded] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleClickDownload = () => {\n    const filename =\n      'Holiday Pay Adjustments' + new Date().toISOString() + '.csv';\n    downloadToFile(output, filename, 'text/csv');\n  };\n\n  const uploadFile = (event) => {\n    clearData();\n    setIsLoading(true);\n    const fileObj = event.target.files[0]; // We've not allowed multiple files.\n    const reader = new FileReader();\n\n    try {\n      reader.readAsText(fileObj); // read the filek\n    } catch (e) {\n      setIsLoading(false);\n      console.log(e);\n    }\n\n    reader.onload = async () => {\n      console.log('POSTING...');\n      const url = 'https://lraulin.pythonanywhere.com/holiday';\n      const reqBody = {\n        date,\n        csv: reader.result,\n      };\n      console.log(JSON.stringify(reqBody));\n      const { csv, super_admin_list } = await postData(url, reqBody);\n      setOutput(csv);\n      localStorage.setItem('output', csv);\n      if (super_admin_list.length) {\n        setApprovalNeeded(super_admin_list);\n        localStorage.setItem(\n          'super_admin_list',\n          JSON.stringify(super_admin_list),\n        );\n      }\n      setIsLoading(false);\n    };\n\n    reader.onerror = () => {\n      setIsLoading(false);\n      console.log(reader.error);\n    };\n  };\n\n  const clearData = () => {\n    setOutput('');\n    setApprovalNeeded([]);\n    localStorage.removeItem('output');\n    localStorage.removeItem('super_admin_list');\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    const data = localStorage.getItem('output');\n    try {\n      const super_admin_list = JSON.parse(\n        localStorage.getItem('super_admin_list'),\n      );\n      if (data) {\n        setOutput(data);\n      }\n      if (super_admin_list && super_admin_list.length) {\n        setApprovalNeeded(super_admin_list);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n    setIsLoading(false);\n  }, []);\n\n  const handleNameClick = (name) => {\n    updateClipboard(name);\n    setApprovalNeeded(approvalNeeded.filter((n) => n !== name));\n  };\n\n  const table = isLoading ? (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={9000} //9 secs\n    />\n  ) : output ? (\n    <div id=\"outputDisplay\">\n      <div>\n        <em>{output.split('\\n').length - 3} Total Timecards</em>\n      </div>\n\n      <div className=\"float-right\">\n        <Button variant=\"danger\" onClick={clearData}>\n          Reset\n        </Button>\n        <Button variant=\"info\" onClick={handleClickDownload}>\n          Download\n        </Button>\n      </div>\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Created At</th>\n            <th>Worker</th>\n            <th>Start Time</th>\n            <th>End Time</th>\n            <th>Total Hours</th>\n            <th>Overtime</th>\n            <th>Pay Rate</th>\n            <th>Memo</th>\n            <th>Adjustment</th>\n            <th>Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {output\n            .split('\\n')\n            .slice(1)\n            .map((line) => {\n              const [\n                num,\n                created,\n                name,\n                start,\n                end,\n                hrs,\n                ot,\n                rate,\n                hol,\n                pay,\n                total,\n              ] = line.split(',');\n              const style =\n                Number.parseFloat(total) >= 2000 ? { color: 'red' } : {};\n              return (\n                <tr style={style}>\n                  {(() => (\n                    <>\n                      <td>{num}</td>\n                      <td>{created}</td>\n                      <td>\n                        {name}\n                        <div className=\"float-right\">\n                          <CopyButton text={name} />\n                        </div>\n                      </td>\n                      <td>{start}</td>\n                      <td>{end}</td>\n                      <td>{hrs}</td>\n                      <td>{ot}</td>\n                      <td>${rate}</td>\n                      <td>\n                        {hol} HOL\n                        <div className=\"float-right\">\n                          <CopyButton text={hol + ' HOL'} />\n                        </div>\n                      </td>\n                      <td>\n                        ${pay}\n                        <div className=\"float-right\">\n                          <CopyButton\n                            text={Number.parseFloat(pay).toFixed(2)}\n                          />\n                        </div>\n                      </td>\n                      <td>${total}</td>\n                    </>\n                  ))()}\n                </tr>\n              );\n            })}\n        </tbody>\n      </Table>\n    </div>\n  ) : null;\n\n  return (\n    <div className=\"App\">\n      Follow <BookerUrl displayText=\"this link\" /> and click \"Export CSV\".\n      <Form>\n        <Form.Group>\n          <Form.File\n            id=\"fileChooser\"\n            label=\"Select the downloaded text file in your Downloads folder.\"\n            multiple={false}\n            accept=\".csv,.txt,text/csv,text/plain\"\n            onChange={(event) => uploadFile(event)}\n          />\n        </Form.Group>\n      </Form>\n      {approvalNeeded.length ? (\n        <>\n          <h3>Admin Approval Needed For ({approvalNeeded.length}):</h3>\n          {approvalNeeded.map((name) => (\n            <span onClick={() => handleNameClick(name)}>{name},</span>\n          ))}\n        </>\n      ) : null}\n      {table}\n    </div>\n  );\n}\n\nexport default HolidayPay;\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route, NavLink } from \"react-router-dom\";\nimport \"./App.css\";\nimport Timecards from \"./Timecards\";\nimport ViewTimecard from \"./ViewTimecard\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Login from \"./Login\";\nimport { ProvideAuth } from \"./use-auth\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport AuthButton from \"./AuthButton\";\nimport HolidayPay from \"HolidayPay\";\n\nconst App = () => {\n  return (\n    <ProvideAuth>\n      <Router>\n        <Navbar bg=\"dark\" variant=\"dark\">\n          <Nav className=\"mr-auto\">\n            <Nav.Link as={NavLink} to=\"/timecards\">\n              Timecards\n            </Nav.Link>\n            <Nav.Link as={NavLink} to=\"/holiday-pay-calculator\">\n              Holiday Pay Calculator\n            </Nav.Link>\n            <a\n              className=\"nav-link\"\n              href=\"https://chat.google.com/u/1/room/AAAA1tx9m64\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Team Chat\n            </a>\n            <a\n              className=\"nav-link\"\n              href=\"https://snapnurse.paymint.today/worker/timecards\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Internal Payroll\n            </a>\n            <a\n              className=\"nav-link\"\n              href=\"https://mail.google.com/mail/u/1/#inbox\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Gmail\n            </a>\n            <a\n              className=\"nav-link\"\n              href=\"https://docs.google.com/spreadsheets/d/1ODyxzF2l64H0BIBA5QHkhW905t60zNUCxidY7TaIzz0/edit?ts=60286033#gid=1398604614\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Schedule\n            </a>\n          </Nav>\n          <AuthButton />\n        </Navbar>\n        <Switch>\n          <Route path=\"/login\" component={Login} />\n          <PrivateRoute path=\"/timecards\" exact>\n            <Timecards />\n          </PrivateRoute>\n          <PrivateRoute path=\"/timecards/view\">\n            <ViewTimecard />\n          </PrivateRoute>\n          <Route path=\"/holiday-pay-calculator\">\n            <HolidayPay />\n          </Route>\n        </Switch>\n      </Router>\n    </ProvideAuth>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}